{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_URL = 'https://pixabay.com/api/';\nconst API_KEY = '45589223-69f3ad275007a1fe85231a89e';\n\nexport const fetchPhotos = searchQuery => {\n  const urlParams = new URLSearchParams({\n    key: API_KEY,\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 30,\n  });\n\n  return fetch(`${API_URL}?${urlParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};\n","export const createGalleryCard = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `\n      <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n          class=\"gallery-image\"\n          src=\"${webformatURL}\"\n          alt=\"${tags}\"/>\n        </a>\n        <ul class=\"gallary-descr\">\n          <li class=\"gallary-descr-item\">\n            <h2 class=\"gallary-descr-item-title\">Likes</h2>\n            <p class=\"gallary-descr-item-num\">${likes}</p>\n          </li>\n          <li class=\"gallary-descr-item\">\n            <h2 class=\"gallary-descr-item-title\">Views</h2>\n            <p class=\"gallary-descr-item-num\">${views}</p>\n          </li>\n          <li class=\"gallary-descr-item\">\n            <h2 class=\"gallary-descr-item-title\">Comments</h2>\n            <p class=\"gallary-descr-item-num\">${comments}</p>\n          </li>\n          <li class=\"gallary-descr-item\">\n            <h2 class=\"gallary-descr-item-title\">Downloads</h2>\n            <p class=\"gallary-descr-item-num\">${downloads}</p>\n          </li>\n        </ul>\n    </li>\n    `;\n};\n","import { fetchPhotos } from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { createGalleryCard } from './js/render-functions';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\nconst onSearchFormSubmit = e => {\n  e.preventDefault();\n  loaderEl.classList.remove('is-hidden');\n  const searchValue = searchFormEl.elements.user_query.value;\n  fetchPhotos(searchValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          backgroundColor: '#EF4040',\n          messageColor: '#fafafb',\n          iconColor: '#fafafb',\n        });\n\n        galleryEl.innerHTML = '';\n        searchFormEl.reset();\n        return;\n      }\n\n      const galleryCardsTemplate = data.hits\n        .map(imgDetails => createGalleryCard(imgDetails))\n        .join('');\n\n      galleryEl.innerHTML = galleryCardsTemplate;\n\n      lightbox.refresh();\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      searchFormEl.reset();\n      loaderEl.classList.add('is-hidden');\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n  captionPosition: 'bottom',\n  captionsData: 'alt',\n});\n"],"names":["API_URL","API_KEY","fetchPhotos","searchQuery","urlParams","response","createGalleryCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchFormEl","galleryEl","loaderEl","onSearchFormSubmit","e","searchValue","data","iziToast","galleryCardsTemplate","imgDetails","lightbox","err","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAU,2BACVC,EAAU,qCAEHC,EAAcC,GAAe,CACxC,MAAMC,EAAY,IAAI,gBAAgB,CACpC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAED,OAAO,MAAM,GAAGH,CAAO,IAAII,CAAS,EAAE,EAAE,KAAKC,GAAY,CACvD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECpBaC,EAAoB,CAAC,CAChC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA,wCAE+BL,CAAa;AAAA;AAAA;AAAA,iBAGpCD,CAAY;AAAA,iBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gDAK2BC,CAAK;AAAA;AAAA;AAAA;AAAA,gDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,gDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,gDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,MC3BnDC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAE9CC,EAAqBC,GAAK,CAC9BA,EAAE,eAAc,EAChBF,EAAS,UAAU,OAAO,WAAW,EACrC,MAAMG,EAAcL,EAAa,SAAS,WAAW,MACrDZ,EAAYiB,CAAW,EACpB,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,UAAW,SACrB,CAAS,EAEDN,EAAU,UAAY,GACtBD,EAAa,MAAK,EAClB,MACD,CAED,MAAMQ,EAAuBF,EAAK,KAC/B,IAAIG,GAAcjB,EAAkBiB,CAAU,CAAC,EAC/C,KAAK,EAAE,EAEVR,EAAU,UAAYO,EAEtBE,EAAS,QAAO,CACtB,CAAK,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACbX,EAAa,MAAK,EAClBE,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL,EAEAF,EAAa,iBAAiB,SAAUG,CAAkB,EAE1D,MAAMO,EAAW,IAAIE,EAAe,aAAc,CAChD,aAAc,IACd,gBAAiB,SACjB,aAAc,KAChB,CAAC"}